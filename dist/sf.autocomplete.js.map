{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///sf.autocomplete.js","webpack:///webpack/bootstrap 977f22bed7f2098f7efd","webpack:///external {\"commonjs\":\"sf-core\",\"commonjs2\":\"sf-core\",\"amd\":\"sf-core\",\"root\":\"sf\"}","webpack:///./src/index.js","webpack:///./src/sf-autocomplete.js","webpack:///./src/autocomplete.less","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./src/autocomplete.less?bec9"],"names":["root","factory","exports","module","require","define","amd","sf","this","__WEBPACK_EXTERNAL_MODULE_0__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","Autocomplete","instancesController","registerInstanceType","_sfCore","_sfCore2","obj","node","options","_construct","create","core","BaseDOMConstructor","init","defaults","assign","filled","selectedIndex","els","input","wrapper","helpers","domTools","closest","wrapperSelector","group","parentNode","hidden","document","createElement","hints","addon","autocomplete","appendChild","setAttribute","dataset","className","style","top","offsetTop","Math","round","offsetHeight","url","length","substring","key","retrieveValueByKey","setState","availableTags","deferRequestBy","addEventListeners","events","Events","_key","optionsToGrab","domAttr","allowNew","keyOnNewAllowed","minChars","query","suggestionsClassName","selectedClassName","onSelect","optionsToProcess","processor","JSONNode","getElementsByClassName","innerHTML","retVal","JSON","parse","e","console","error","that","ajax","send","data","id","then","success","suggestions","wrap","type","onKeyPress","onInputChange","listen","onFocus","addEventListener","removeEventListener","state","onValueChange","clear","addTag","keys","ESC","TAB","RETURN","LEFT","UP","RIGHT","DOWN","BACKSPACE","getKeyByIndex","index","children","hide","removeChild","visible","trigger","trim","str","replace","classList","remove","add","readOnly","disabled","clearTimeout","onChangeTimeout","findBestHint","setTimeout","q","getSuggestions","getAvailableSuggestions","toLowerCase","indexOf","suggest","getServerSuggestions","abort","isReturnXHRToo","answer","disable","prepareSuggestions","html","Array","isArray","getOwnPropertyNames","forEach","suggestion","formatResult","position","insertBefore","nextSibling","onSuggestionsClick","bind","preventDefault","target","select","escapeRegExChars","pattern","RegExp","cb","tools","resolveKeyPath","window","apply","arguments","which","stopImmediatePropagation","onKeyEnter","onKeyUp","onKeyDown","moveUp","moveDown","child","adjustScroll","highlight","item","hintsHeight","clientHeight","hintTop","hintHeight","scrollTop","die","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","list","toString","result","join","mediaQuery","alreadyImportedModules","addStylesToDom","styles","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","css","media","sourceMap","part","insertStyleElement","styleElement","head","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","firstChild","Error","removeStyleElement","idx","splice","createStyleElement","createLinkElement","linkElement","rel","update","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","btoa","updateLink","href","applyToTag","newObj","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","unescape","encodeURIComponent","stringify","blob","oldSrc","memoize","fn","memo","isOldIE","test","self","navigator","userAgent","getElementsByTagName","DEBUG","newList","mayRemove","textStore","replacement","filter","Boolean","content","locals"],"mappings":"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","file":"sf.autocomplete.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"sf-core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"sf-autocomplete\", [\"sf-core\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"sf-autocomplete\"] = factory(require(\"sf-core\"));\n\telse\n\t\troot[\"sf-autocomplete\"] = factory(root[\"sf\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"sf-core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"sf-autocomplete\", [\"sf-core\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"sf-autocomplete\"] = factory(require(\"sf-core\"));\n\telse\n\t\troot[\"sf-autocomplete\"] = factory(root[\"sf\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 7);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar sf = __webpack_require__(0);\nvar Autocomplete = __webpack_require__(2).default;\n\n// TODO not use webpack's style loader here. just compile, minify and add to the page by our script\n__webpack_require__(6);\n\nsf.instancesController.registerInstanceType(Autocomplete, \"js-sf-autocomplete\");\n\nmodule.exports = Autocomplete; // ES6 default export will not expose us as global\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _sfCore = __webpack_require__(0);\n\nvar _sfCore2 = _interopRequireDefault(_sfCore);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Autocomplete = function Autocomplete(sf, node, options) {\n    this._construct(sf, node, options);\n};\nAutocomplete.prototype = Object.create(_sfCore2.default.core.BaseDOMConstructor.prototype);\nAutocomplete.prototype.name = \"autocomplete\";\nAutocomplete.prototype._construct = function (sf, node, options) {\n    this.init(sf, node, options); // call parent\n\n    var defaults = {\n        /* NOT REQUIRED OPTIONS */\n        /* delimiter: \"\", */\n    };\n    this.options = Object.assign(this.options, defaults);\n    if (options) {\n        // if we pass options extend all options by passed options\n        this.options = Object.assign(this.options, options);\n    }\n\n    /* INITIAL VARIABLES */\n    /**\r\n     * @default false\r\n     * */\n    this.filled = false;\n    /**\r\n     * @default -1\r\n     * */\n    this.selectedIndex = -1;\n\n    this.els = {\n        node: node,\n        input: node,\n        wrapper: sf.helpers.domTools.closest(node, this.options.wrapperSelector),\n        group: node.parentNode,\n        hidden: document.createElement('input'),\n        hints: null,\n        addon: document.createElement(\"button\")\n    };\n    this.els.input.autocomplete = \"off\";\n    this.els.wrapper.appendChild(this.els.hidden);\n    this.els.hidden.setAttribute('type', 'hidden');\n    this.els.hidden.name = this.els.input.dataset.name;\n    if (this.els.input.dataset.value) this.els.hidden.value = this.els.input.dataset.value;\n    this.els.addon.className = \"btn-icon\";\n    this.els.addon.setAttribute(\"type\", \"button\");\n    this.els.addon.style.top = this.els.input.offsetTop + Math.round(this.els.input.offsetHeight / 2) + 'px';\n    this.els.group.appendChild(this.els.addon);\n    if (this.options.url[this.options.url.length - 1] === \"/\") {\n        this.options.url = this.options.url.substring(0, this.options.url.length - 1);\n    }\n\n    this.value = this.els.input.value;\n    this.key = this.els.input.dataset.key;\n\n    this.retrieveValueByKey();\n\n    if (this.key && this.value) {\n        this.setState(\"filled\");\n    } else {\n        this.setState(\"search\");\n    }\n\n    if (this.options.availableTags && !this.options.url) {\n        this.options.deferRequestBy = 0;\n    }\n\n    this.addEventListeners();\n\n    this.events = new sf.core.Events([\"select\", \"clear\"]);\n};\n\nAutocomplete.prototype._key = \"\";\n\n/**\r\n * @override\r\n * @inheritDoc\r\n * @enum {string}\r\n */\nAutocomplete.prototype.optionsToGrab = {\n    /**\r\n     * URL to get suggestions form <b>Default: \"/\"</b>\r\n     */\n    url: {\n        value: \"/\",\n        domAttr: \"data-url\"\n    },\n    /**\r\n     *  Accept or not values that not present in suggestions <b>Default: \"false\"</b>\r\n     */\n    allowNew: {\n        value: false,\n        domAttr: \"data-allow-new\"\n    },\n    /**\r\n     *  Pass key if possible when values that not present in suggestions are allowed, i.e. with allowNew-param<b>Default: \"false\"</b>\r\n     */\n    keyOnNewAllowed: {\n        value: false,\n        domAttr: \"data-key-on-new\"\n    },\n    /**\r\n     * Name to send <b>Default: \"autocomplete\"</b>\r\n     */\n    name: {\n        value: \"autocomplete\",\n        domAttr: \"data-name\"\n    },\n    /**\r\n     * Wrapper selector <b>Default: \".item-form\"</b>\r\n     */\n    wrapperSelector: {\n        value: \".item-form\",\n        domAttr: \"data-wrapper-selector\"\n    },\n    /**\r\n     * Minum amount of chars to start showing suggestions <b>Default: 1</b>\r\n     */\n    minChars: {\n        value: 1,\n        domAttr: \"data-min-chars\"\n    },\n    /**\r\n     * Naming of query to send <b>Default: \"query\"</b>\r\n     */\n    query: {\n        value: \"query\",\n        domAttr: \"data-query\"\n    },\n    /**\r\n     * Defer request after input in ms <b>Default: 500</b>\r\n     */\n    deferRequestBy: {\n        value: 500,\n        domAttr: \"data-defer\"\n    },\n    /**\r\n     * Class to pass to autocomplete hints <b>Default: \"autocomplete-hint\"</b>\r\n     */\n    suggestionsClassName: {\n        value: \"autocomplete-hint\",\n        domAttr: \"data-suggestions-class\"\n    },\n    /**\r\n     * Class to pass to selected hint in list <b>Default: \"autocomplete-selected\"</b>\r\n     */\n    selectedClassName: {\n        value: \"autocomplete-selected\",\n        domAttr: \"data-selected-class\"\n    },\n    /**\r\n     * Callback on suggestion select\r\n     */\n    onSelect: {\n        domAttr: \"data-on-select\"\n    }\n};\n/**\r\n * @override\r\n * @inheritDoc\r\n * @enum {Object}\r\n */\nAutocomplete.prototype.optionsToProcess = {\n    /**\r\n     * For Autocomplete (not for Tags) this means available key->values for Autocomplete but given by PHP, not from server.\r\n     */\n    availableTags: {\n        processor: function processor(node) {\n            // processor\n            var JSONNode = node.getElementsByClassName(\"js-spiral-autocomplete-available-tags\")[0];\n            if (!JSONNode || !JSONNode.innerHTML) {\n                return this.value;\n            }\n            var retVal;\n            try {\n                retVal = JSON.parse(JSONNode.innerHTML);\n            } catch (e) {\n                console.error(\"Failed to parse JSON -\", JSONNode.innerHTML, e);\n                retVal = this.value;\n            }\n            return retVal;\n        }\n    }\n};\n\nAutocomplete.prototype.retrieveValueByKey = function () {\n    var that = this;\n    if (!this.value && this.els.hidden.value) {\n        _sfCore2.default.ajax.send({\n            url: this.options.url,\n            data: { id: this.els.hidden.value }\n        }).then(function (success) {\n            if (success.suggestions) {\n                that.els.input.value = success.suggestions[that.els.hidden.value];\n                that.filled = true;\n                that.setState(\"filled\");\n            } else {\n                that.els.hidden.value = \"\";\n            }\n        }, function (error) {\n            that.els.hidden.value = \"\";\n        });\n    }\n};\n\n/**\r\n * Adds events listeners.</br>\r\n */\nAutocomplete.prototype.addEventListeners = function () {\n    var that = this;\n\n    /**\r\n     * React on event\r\n     * @param {Event} e\r\n     */\n    function wrap(e) {\n        if (e.type === 'keydown') that.onKeyPress(e);\n        if (e.type === 'input' || e.type === 'change') that.onInputChange(e);\n        if (e.type === 'click') that.wrap(e);\n    }\n\n    /**\r\n     * TODO: What it does?\r\n     * @param {*} e\r\n     */\n    function listen(e) {\n        if (that.options.availableTags) that.onFocus(e);\n        that.els.input.addEventListener(\"keydown\", wrap);\n        that.els.input.addEventListener(\"change\", wrap);\n        that.els.input.addEventListener(\"input\", wrap);\n        that.els.input.addEventListener(\"blur\", function () {\n            that.els.input.removeEventListener(\"keydown\", wrap);\n            that.els.input.removeEventListener(\"change\", wrap);\n            that.els.input.removeEventListener(\"input\", wrap);\n            that.els.input.removeEventListener(\"blur\", listen);\n        }, false);\n    }\n\n    this.els.input.addEventListener(\"focus\", listen);\n\n    this.els.addon.addEventListener(\"click\", function () {\n        switch (that.state) {\n            case \"search\":\n                that.onValueChange();\n                break;\n            case \"filled\":\n                that.clear();\n                break;\n            case \"add\":\n                that.addTag(false, that.els.input.value);\n                break;\n            case \"select\":\n\n                break;\n            default:\n                break;\n        }\n    });\n};\n\n/**\r\n * Key codes.\r\n * @enum {Number}\r\n */\nAutocomplete.prototype.keys = {\n    ESC: 27, TAB: 9, RETURN: 13, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, BACKSPACE: 8\n};\n\n/**\r\n * Gets key from data-key from element.\r\n * @param {Number} index Index of current suggestion.\r\n * @return {String} Key that written in \"data-key\" attribute\r\n */\nAutocomplete.prototype.getKeyByIndex = function (index) {\n    return this.els.hints.children[index].dataset.key;\n};\n\n/**\r\n * Hides hints. Changes state.\r\n */\nAutocomplete.prototype.hide = function () {\n    if (!this.els.hints) return;\n    this.els.group.removeChild(this.els.hints);\n    this.els.hints = null;\n    this.visible = false;\n    this.selectedIndex = -1;\n    if (this.value !== \"\" && this.value !== this.els.input.value) {\n        this.setState(this.options.allowNew ? \"add\" : \"search\");\n    }\n};\n\n/**\r\n * Clears input, suggestions, variables.\r\n */\nAutocomplete.prototype.clear = function () {\n    this.value = \"\";\n    this.els.input.value = \"\";\n    this.els.hidden.value = \"\";\n    this.suggestions = {};\n    this.filled = false;\n    this.hide();\n    this.setState(\"search\");\n    this.events.trigger(\"clear\", this);\n};\n\n/**\r\n * Trim string.\r\n * @param {String} str String that will be trimmed\r\n * @return {String} Trimmed string\r\n */\nAutocomplete.prototype.trim = function (str) {\n    return str.trim().replace(/\\s+/g, '_');\n};\n\n/**\r\n * Changes item-state- class on wrapper.\r\n * @param {String} state\r\n */\nAutocomplete.prototype.setState = function (state) {\n    if (this.state === state) return;\n    this.els.wrapper.classList.remove(\"item-state-\" + this.state);\n    this.els.wrapper.classList.add(\"item-state-\" + state);\n    this.state = state;\n    if (state === \"filled\") {\n        this.hide();\n        this.els.input.readOnly = true;\n        this.els.input.classList.add('read-only');\n    } else {\n        this.els.input.readOnly = false;\n        this.els.input.classList.remove('read-only');\n    }\n};\n\n/**\r\n * Change value for visible input and for invisible inputs.\r\n * @param {String | Boolean} key Key to add to hidden input and than send to server.\r\n * @param {String} value Value just to show to users.\r\n */\nAutocomplete.prototype.addTag = function (key, value) {\n    if (this.options.allowNew || key !== true) {\n        if (this.options.allowNew && this.options.keyOnNewAllowed && key) {\n            this.els.hidden.value = key;\n        } else {\n            this.els.hidden.value = this.options.allowNew ? value : key;\n        }\n\n        this.value = value;\n        this.els.input.value = this.value;\n        this.suggestions = {};\n        this.filled = true;\n        this.setState(\"filled\");\n    }\n};\n\n/**\r\n * Process key up.\r\n * @param {Event} e Event that fires on key up.\r\n */\nAutocomplete.prototype.onInputChange = function (e) {\n    var that = this;\n    if (this.disabled) return;\n\n    //    switch (e.which) {\n    //        case this.keys.UP:\n    //        case this.keys.DOWN:\n    //            return;\n    //    }\n\n    clearTimeout(this.onChangeTimeout);\n\n    if (this.value !== this.els.input.value) {\n        this.findBestHint();\n        if (this.options.deferRequestBy > 0) {\n            if (this.options.allowNew) this.setState(\"add\");\n            // Defer lookup in case when value changes very quickly:\n            this.onChangeTimeout = setTimeout(function () {\n                that.onValueChange();\n            }, this.options.deferRequestBy);\n        } else {\n            this.onValueChange();\n        }\n    }\n};\n\n/**\r\n * Finding best input.\r\n * Not implemented.\r\n * Maybe not need.\r\n */\nAutocomplete.prototype.findBestHint = function () {};\n\n/**\r\n * Process changing input's value.\r\n * @param {String} q Query\r\n */\nAutocomplete.prototype.onValueChange = function (q) {\n    this.value = this.els.input.value;\n    if (this.options.availableTags && !this.options.url) {\n        this.getSuggestions(this.value);\n    } else {\n        clearTimeout(this.onChangeTimeout);\n        this.selectedIndex = -1;\n        this.value.length < this.options.minChars ? this.hide() : this.getSuggestions(this.value);\n    }\n};\n\n/**\r\n * @param {String} q Query\r\n */\nAutocomplete.prototype.getAvailableSuggestions = function (q) {\n    if (q.trim() != \"\") {\n        var suggestions = {};\n        for (var key in this.options.availableTags) {\n            if (this.options.availableTags.hasOwnProperty(key) && this.options.availableTags[key].toLowerCase().indexOf(q.toLowerCase()) != -1) {\n                suggestions[key] = this.options.availableTags[key];\n            }\n        }\n        this.suggest(suggestions);\n    } else {\n        this.suggest(this.options.availableTags);\n    }\n};\n\n/**\r\n * @param {String} q Query\r\n */\nAutocomplete.prototype.getServerSuggestions = function (q) {\n    var that = this;\n    if (q.trim() != \"\") {\n        if (this.ajax != null) this.ajax[1].abort();\n        var data = {};\n        data[that.options.query] = q;\n        this.ajax = _sfCore2.default.ajax.send({\n            url: that.options.url,\n            data: data,\n            isReturnXHRToo: true\n        });\n        this.ajax[0].then(function (answer) {\n            if (that.value && !that.filled) that.suggest(answer.suggestions);\n        }, function (error) {});\n        this.setState(\"loading\");\n    } else {\n        this.hide();\n    }\n};\n\n/**\r\n * Gets suggestions from availableTags or from server.\r\n * @param {String} q Query\r\n */\nAutocomplete.prototype.getSuggestions = function (q) {\n    if (this.options.disable) {\n        this.setState(\"add\");\n        return;\n    }\n\n    if (this.options.availableTags && !this.options.url) {\n        this.getAvailableSuggestions(q);\n    } else {\n        this.getServerSuggestions(q);\n    }\n};\n\n/**\r\n * Prepare suggestions or alert.\r\n * @return {string}\r\n */\nAutocomplete.prototype.prepareSuggestions = function () {\n    // TODO create nodes (not innerHtml)\n\n    var that = this;\n    var value = this.value; // that.getQuery(that.value),\n    var html = '';\n\n    if (this.suggestions && (!Array.isArray(this.suggestions) && Object.getOwnPropertyNames(this.suggestions).length > 0 || Array.isArray(this.suggestions) && this.suggestions.length > 0)) {\n        if (!Array.isArray(this.suggestions)) {\n            for (var key in this.suggestions) {\n                if (this.suggestions.hasOwnProperty(key)) {\n                    html += '<div class=\"' + that.options.suggestionsClassName + '\" data-key=\"' + key + '\">' + that.formatResult(this.suggestions[key], value) + '</div>';\n                }\n            }\n        } else {\n            this.suggestions.forEach(function (suggestion, index) {\n                html += '<div class=\"' + that.options.suggestionsClassName + '\" data-key=\"' + index + '\">' + that.formatResult(suggestion, value) + '</div>';\n            });\n        }\n    } else {\n        html = '<div class=\"alert alert-info\" style=\"text-align: center; margin: 0;\">There are no suggestions for this query.</div>';\n    }\n\n    return html;\n};\n\n/**\r\n * Shows dropdown with the hints.\r\n * @param {*} hints Suggestion list\r\n */\nAutocomplete.prototype.suggest = function (hints) {\n    this.hide();\n    this.suggestions = hints;\n    this.els.hints = document.createElement('div');\n    this.els.hints.className = 'autocomplete-hints';\n    this.els.hints.style.position = 'absolute';\n    this.els.hints.innerHTML = this.prepareSuggestions();\n    this.els.group.insertBefore(this.els.hints, this.els.input.nextSibling);\n    this.visible = true;\n\n    this.els.hints.addEventListener(\"click\", this.onSuggestionsClick.bind(this));\n\n    this.setState(this.options.allowNew ? \"add\" : \"select\");\n};\n\nAutocomplete.prototype.onSuggestionsClick = function (e) {\n    e.preventDefault();\n    var node = e.target;\n    while (!node.dataset.key && node !== this.els.group) {\n        node = node.parentNode;\n    }\n    if (!node.dataset.key) return;\n    this.select(node.dataset.key);\n\n    // var node = e.target;\n    // var keys = [];//array, so we can have nesting\n    // while (node !== this.els.group) {\n    //     if (node.dataset.key) keys.push(node.dataset.key);\n    //     node = node.parentNode;\n    // }\n    // if (!keys[0]) return;\n    // this.select.apply(this, keys);\n};\n\n/**\r\n * Escape.\r\n * @param {String} value String to escape.\r\n * @return {String} Escaped string.\r\n */\nAutocomplete.prototype.escapeRegExChars = function (value) {\n    return value.replace(/[\\-\\[\\]\\/\\{}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n};\n\n/**\r\n * Highlight query in suggestion.\r\n * @param {String} suggestion String to be formatted\r\n * @param {String} value Query to highlight from suggestion string\r\n * @return {String} Highlighted result\r\n */\nAutocomplete.prototype.formatResult = function (suggestion, value) {\n    var pattern = '(' + this.escapeRegExChars(value) + ')';\n    return suggestion.replace(new RegExp(pattern, 'gi'), '<strong>$1<\\/strong>');\n};\n\n/**\r\n * @param {String} key\r\n */\nAutocomplete.prototype.select = function (key) {\n    this.addTag(key, this.suggestions[key]);\n    this.onSelect(key);\n};\n\nAutocomplete.prototype.onSelect = function () {\n    this.events.trigger(\"select\", this);\n    if (!this.options.onSelect) return;\n    var cb = _sfCore2.default.tools.resolveKeyPath(this.options.onSelect, window);\n    // eslint-disable-next-line\n    cb && cb.apply(this, arguments);\n};\n\n// Methods for delimiter\n// Autocomplete.prototype.getValue = function (value) {\n//    var that = this,\n//        currentValue,\n//        parts;\n//\n//    if (!this.options.delimiter) return value;\n//    currentValue = that.currentValue;\n//    parts = currentValue.split(this.options.delimiter);\n//    if (parts.length === 1) return value;\n//    return currentValue.substr(0, currentValue.length - parts[parts.length - 1].length) + value;\n// };\n\n// Autocomplete.prototype.getQuery = function (value) {\n//    if (!this.options.delimiter) return value.trim();\n//    var parts = value.split(this.options.delimiter);\n//    return parts[parts.length - 1].trim();\n// };\n\n/**\r\n * Process focus on input. Only if availableTags are present.\r\n */\nAutocomplete.prototype.onFocus = function () {\n    this.getSuggestions(\"\");\n};\n\n/**\r\n * Processes keyPress\r\n * @param {Object} e Event that fires on key down.\r\n */\nAutocomplete.prototype.onKeyPress = function (e) {\n    var that = this;\n\n    // If suggestions are hidden and user presses arrow down -> display suggestions\n    if (!this.disabled && !this.visible && e.which === this.keys.DOWN && this.value) {\n        this.onValueChange();\n        return;\n    }\n\n    switch (e.which) {\n        //        case that.keys.BACKSPACE:\n        //            that.onValueChange();\n        //            return;\n        //            break;\n        case that.keys.RETURN:\n            e.stopImmediatePropagation();\n            e.preventDefault();\n            that.onKeyEnter();\n            break;\n        case that.keys.UP:\n            if (!that.visible) return;\n            that.onKeyUp();\n            break;\n        case that.keys.DOWN:\n            if (!that.visible) return;\n            that.onKeyDown();\n            break;\n        default:\n            return;\n    }\n\n    // Cancel event if function did not return:\n    e.stopImmediatePropagation();\n    e.preventDefault();\n};\n\nAutocomplete.prototype.onKeyEnter = function () {\n    if (this.selectedIndex === -1) {\n        if (!this.options.allowNew && this.value == this.els.input.value) {\n            this.onValueChange();\n        } else {\n            this.addTag(false, this.els.input.value);\n        }\n        return;\n    }\n\n    this.select(this.getKeyByIndex(this.selectedIndex));\n};\n\nAutocomplete.prototype.onKeyUp = function () {\n    this.moveUp();\n};\n\nAutocomplete.prototype.onKeyDown = function () {\n    this.moveDown();\n};\n\n/**\r\n * Move up highlight of current suggestion.\r\n */\nAutocomplete.prototype.moveUp = function () {\n    var that = this;\n\n    if (this.selectedIndex === -1) return;\n\n    if (this.selectedIndex === 0) {\n        [].forEach.call(this.els.hints.children, function (child) {\n            child.classList.remove(that.options.selectedClassName);\n        });\n        that.selectedIndex = -1;\n        return;\n    }\n\n    this.adjustScroll(this.selectedIndex - 1);\n};\n\n/**\r\n * Move down highlight of current suggestion.\r\n */\nAutocomplete.prototype.moveDown = function () {\n    if (this.selectedIndex === this.els.hints.children.length - 1) return;\n    this.adjustScroll(this.selectedIndex + 1);\n};\n\n/**\r\n * Function to adjust scrolling if many suggestions.\r\n * Not implemented now. Just transit.\r\n * @param {Number} index Index of current suggestion.\r\n */\nAutocomplete.prototype.adjustScroll = function (index) {\n    this.highlight(index);\n\n    var item = this.els.hints.children[this.selectedIndex];\n    var hintsHeight = this.els.hints.clientHeight;\n    var hintTop = item.offsetTop;\n    var hintHeight = item.offsetHeight;\n\n    if (hintTop < this.els.hints.scrollTop) {\n        this.els.hints.scrollTop = hintTop;\n    } else if (hintTop > this.els.hints.scrollTop + hintsHeight - hintHeight) {\n        this.els.hints.scrollTop = hintTop - hintsHeight + hintHeight;\n    }\n};\n\n/**\r\n * Highlight active suggestion.\r\n * @param {Number} index Index of current suggestion.\r\n * @return {null}\r\n */\nAutocomplete.prototype.highlight = function (index) {\n    var that = this;\n    [].forEach.call(this.els.hints.children, function (child) {\n        child.classList.remove(that.options.selectedClassName);\n    });\n    this.els.hints.children[index].classList.add(that.options.selectedClassName);\n    this.selectedIndex = index;\n    return null;\n};\n\nAutocomplete.prototype.die = function () {\n    console.error(\"TODO DIE\"); // TODO DIE\n};\n\nexports.default = Autocomplete;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(4)();\n// imports\n\n\n// module\nexports.push([module.i, \".item-form{position:relative}.item-form,.item-form input[type=text]{font-size:1rem}.item-form input[type=text].js-sf-autocomplete::-ms-clear{display:none}.item-form input[type=text]:focus+.autocomplete-hints{border-color:#33a3fe;border-top-color:#b9b9b9}.item-state-search .btn-icon:before{content:\\\"\\\\26B2\\\";transform:rotate(-45deg);display:inline-block;position:relative}.item-state-add .btn-icon:before{content:\\\"+\\\"}.item-state-filled .btn-icon:before{content:\\\"\\\\D7\\\"}.item-state-select .btn-icon:hover{opacity:.2;cursor:default}.item-state-select .btn-icon:before{content:\\\"\\\\21D9\\\"}.item-state-loading .btn-icon:before{content:\\\"\\\\21BB\\\"}.btn-icon{position:absolute;transform:translateY(-50%);-webkit-transform:translateY(-50%);right:0;width:30px;font-size:24px;line-height:24px}.btn-icon:focus{background-color:transparent}.autocomplete-hints{z-index:10000;background:#fff;border:1px solid #b9b9b9;border-bottom-left-radius:2px;border-bottom-right-radius:2px;margin-top:-1px;max-width:100%;width:100%;max-height:200px;overflow-y:scroll;color:#b9b9b9}.autocomplete-hints>.autocomplete-hint{padding:5px 10px;cursor:pointer}.autocomplete-hints>.autocomplete-hint.autocomplete-selected,.autocomplete-hints>.autocomplete-hint:hover{background:#e5e5e5}.autocomplete-hints strong{color:#33a3fe;font-weight:400}\", \"\", {\"version\":3,\"sources\":[\"O:/Projects/SF/sf-module-autocomplete/src/O:/Projects/SF/sf-module-autocomplete/src/autocomplete.less\"],\"names\":[],\"mappings\":\"AAEA,WACE,iBACA,CAFF,uCAEE,cAAA,CAMI,0DACE,YAAA,CAIJ,sDAEI,qBACA,wBAAA,CAMR,oCACE,gBACA,yBACA,qBACA,iBAAA,CAIF,iCACE,WAAS,CAGX,oCACE,aAAS,CAIT,mCACE,WACA,cAAA,CAEF,oCACE,eAAS,CAIb,qCACE,eAAS,CAGX,UACE,kBAEA,2BACA,mCACA,QACA,WACA,eACA,gBAAA,CACA,gBACE,4BAAA,CAIJ,oBACE,cAEA,gBACA,yBACA,8BACA,+BACA,gBACA,eACA,WACA,iBACA,kBACA,aAAA,CAZF,uCAeI,iBACA,cAAA,CACA,AAGA,0GACE,kBAAA,CArBN,2BAyBI,cACA,eAAA,CAAA\",\"file\":\"autocomplete.less\",\"sourcesContent\":[\"@import (reference) \\\"variables\\\";\\n\\n.item-form {\\n  position: relative;\\n  font-size: 1rem;\\n\\n  input[type='text'] {\\n    font-size: 1rem;\\n\\n    &.js-sf-autocomplete {\\n      &::-ms-clear {\\n        display: none;\\n      }\\n    }\\n\\n    &:focus {\\n      + .autocomplete-hints {\\n        border-color: @spiral-blue;\\n        border-top-color: @spiral-grey;\\n      }\\n    }\\n  }\\n}\\n\\n.item-state-search .btn-icon:before {\\n  content: '⚲';\\n  transform: rotateZ(-45deg);\\n  display: inline-block;\\n  position: relative;\\n  // bottom: 2px;\\n}\\n\\n.item-state-add .btn-icon:before {\\n  content: '+';\\n}\\n\\n.item-state-filled .btn-icon:before {\\n  content: '×';\\n}\\n\\n.item-state-select .btn-icon {\\n  &:hover {\\n    opacity: 0.2;\\n    cursor: default;\\n  }\\n  &:before {\\n    content: '⇙';\\n  }\\n}\\n\\n.item-state-loading .btn-icon:before {\\n  content: '\\\\21BB';\\n}\\n\\n.btn-icon {\\n  position: absolute;\\n  // bottom: 3px;\\n  transform: translateY(-50%);\\n  -webkit-transform: translateY(-50%);\\n  right: 0;\\n  width: 30px;\\n  font-size: 24px;\\n  line-height: 24px;\\n  &:focus {\\n    background-color: transparent;\\n  }\\n}\\n\\n.autocomplete-hints {\\n  z-index: 10000;\\n  // top: 100%;\\n  background: @spiral-white;\\n  border: 1px solid @spiral-grey;\\n  border-bottom-left-radius: 2px;\\n  border-bottom-right-radius: 2px;\\n  margin-top: -1px;\\n  max-width: 100%;\\n  width: 100%;\\n  max-height: 200px;\\n  overflow-y: scroll;\\n  color: @spiral-grey;\\n\\n  > .autocomplete-hint {\\n    padding: 5px 10px;\\n    cursor: pointer;\\n    &:hover {\\n      background: @spiral-light-grey;\\n    }\\n    &.autocomplete-selected {\\n      background: @spiral-light-grey;\\n    }\\n  }\\n  strong {\\n    color: @spiral-blue;\\n    font-weight: normal;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function() {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\tvar result = [];\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar item = this[i];\n\t\t\tif(item[2]) {\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\n\t\t\t} else {\n\t\t\t\tresult.push(item[1]);\n\t\t\t}\n\t\t}\n\t\treturn result.join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [];\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\tstyleElement.type = \"text/css\";\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement(\"link\");\n\tlinkElement.rel = \"stylesheet\";\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute(\"media\", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(3);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(5)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js?-url&sourceMap!../node_modules/less-loader/dist/index.js?sourceMap!./autocomplete.less\", function() {\n\t\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js?-url&sourceMap!../node_modules/less-loader/dist/index.js?sourceMap!./autocomplete.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(1);\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// sf.autocomplete.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 977f22bed7f2098f7efd","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"sf-core\",\"commonjs2\":\"sf-core\",\"amd\":\"sf-core\",\"root\":\"sf\"}\n// module id = 0\n// module chunks = 0","\"use strict\";\r\nvar sf = require('sf-core');\r\nvar Autocomplete = require('./sf-autocomplete').default;\r\n\r\n// TODO not use webpack's style loader here. just compile, minify and add to the page by our script\r\nrequire(\"./autocomplete.less\");\r\n\r\nsf.instancesController.registerInstanceType(Autocomplete, \"js-sf-autocomplete\");\r\n\r\nmodule.exports = Autocomplete;   // ES6 default export will not expose us as global\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","\"use strict\";\r\nimport sf from 'sf-core';\r\n\r\nvar Autocomplete = function (sf, node, options) {\r\n    this._construct(sf, node, options);\r\n};\r\nAutocomplete.prototype = Object.create(sf.core.BaseDOMConstructor.prototype);\r\nAutocomplete.prototype.name = \"autocomplete\";\r\nAutocomplete.prototype._construct = function (sf, node, options) {\r\n    this.init(sf, node, options);// call parent\r\n\r\n    var defaults = {\r\n        /* NOT REQUIRED OPTIONS */\r\n        /* delimiter: \"\", */\r\n    };\r\n    this.options = Object.assign(this.options, defaults);\r\n    if (options) {// if we pass options extend all options by passed options\r\n        this.options = Object.assign(this.options, options);\r\n    }\r\n\r\n    /* INITIAL VARIABLES */\r\n    /**\r\n     * @default false\r\n     * */\r\n    this.filled = false;\r\n    /**\r\n     * @default -1\r\n     * */\r\n    this.selectedIndex = -1;\r\n\r\n    this.els = {\r\n        node: node,\r\n        input: node,\r\n        wrapper: sf.helpers.domTools.closest(node, this.options.wrapperSelector),\r\n        group: node.parentNode,\r\n        hidden: document.createElement('input'),\r\n        hints: null,\r\n        addon: document.createElement(\"button\")\r\n    };\r\n    this.els.input.autocomplete = \"off\";\r\n    this.els.wrapper.appendChild(this.els.hidden);\r\n    this.els.hidden.setAttribute('type', 'hidden');\r\n    this.els.hidden.name = this.els.input.dataset.name;\r\n    if (this.els.input.dataset.value) this.els.hidden.value = this.els.input.dataset.value;\r\n    this.els.addon.className = \"btn-icon\";\r\n    this.els.addon.setAttribute(\"type\", \"button\");\r\n    this.els.addon.style.top = this.els.input.offsetTop + Math.round(this.els.input.offsetHeight / 2) + 'px';\r\n    this.els.group.appendChild(this.els.addon);\r\n    if (this.options.url[this.options.url.length - 1] === \"/\") {\r\n        this.options.url = this.options.url.substring(0, this.options.url.length - 1);\r\n    }\r\n\r\n    this.value = this.els.input.value;\r\n    this.key = this.els.input.dataset.key;\r\n\r\n\r\n    this.retrieveValueByKey();\r\n\r\n    if (this.key && this.value) {\r\n        this.setState(\"filled\");\r\n    } else {\r\n        this.setState(\"search\");\r\n    }\r\n\r\n    if (this.options.availableTags && !this.options.url) {\r\n        this.options.deferRequestBy = 0;\r\n    }\r\n\r\n    this.addEventListeners();\r\n\r\n    this.events = new sf.core.Events([\"select\", \"clear\"]);\r\n};\r\n\r\nAutocomplete.prototype._key = \"\";\r\n\r\n/**\r\n * @override\r\n * @inheritDoc\r\n * @enum {string}\r\n */\r\nAutocomplete.prototype.optionsToGrab =\r\n{\r\n    /**\r\n     * URL to get suggestions form <b>Default: \"/\"</b>\r\n     */\r\n    url: {\r\n        value: \"/\",\r\n        domAttr: \"data-url\"\r\n    },\r\n    /**\r\n     *  Accept or not values that not present in suggestions <b>Default: \"false\"</b>\r\n     */\r\n    allowNew: {\r\n        value: false,\r\n        domAttr: \"data-allow-new\"\r\n    },\r\n    /**\r\n     *  Pass key if possible when values that not present in suggestions are allowed, i.e. with allowNew-param<b>Default: \"false\"</b>\r\n     */\r\n    keyOnNewAllowed: {\r\n        value: false,\r\n        domAttr: \"data-key-on-new\"\r\n    },\r\n    /**\r\n     * Name to send <b>Default: \"autocomplete\"</b>\r\n     */\r\n    name: {\r\n        value: \"autocomplete\",\r\n        domAttr: \"data-name\"\r\n    },\r\n    /**\r\n     * Wrapper selector <b>Default: \".item-form\"</b>\r\n     */\r\n    wrapperSelector: {\r\n        value: \".item-form\",\r\n        domAttr: \"data-wrapper-selector\"\r\n    },\r\n    /**\r\n     * Minum amount of chars to start showing suggestions <b>Default: 1</b>\r\n     */\r\n    minChars: {\r\n        value: 1,\r\n        domAttr: \"data-min-chars\"\r\n    },\r\n    /**\r\n     * Naming of query to send <b>Default: \"query\"</b>\r\n     */\r\n    query: {\r\n        value: \"query\",\r\n        domAttr: \"data-query\"\r\n    },\r\n    /**\r\n     * Defer request after input in ms <b>Default: 500</b>\r\n     */\r\n    deferRequestBy: {\r\n        value: 500,\r\n        domAttr: \"data-defer\"\r\n    },\r\n    /**\r\n     * Class to pass to autocomplete hints <b>Default: \"autocomplete-hint\"</b>\r\n     */\r\n    suggestionsClassName: {\r\n        value: \"autocomplete-hint\",\r\n        domAttr: \"data-suggestions-class\"\r\n    },\r\n    /**\r\n     * Class to pass to selected hint in list <b>Default: \"autocomplete-selected\"</b>\r\n     */\r\n    selectedClassName: {\r\n        value: \"autocomplete-selected\",\r\n        domAttr: \"data-selected-class\"\r\n    },\r\n    /**\r\n     * Callback on suggestion select\r\n     */\r\n    onSelect: {\r\n        domAttr: \"data-on-select\"\r\n    }\r\n};\r\n/**\r\n * @override\r\n * @inheritDoc\r\n * @enum {Object}\r\n */\r\nAutocomplete.prototype.optionsToProcess = {\r\n    /**\r\n     * For Autocomplete (not for Tags) this means available key->values for Autocomplete but given by PHP, not from server.\r\n     */\r\n    availableTags: {\r\n        processor: function (node) { // processor\r\n            var JSONNode = node.getElementsByClassName(\"js-spiral-autocomplete-available-tags\")[0];\r\n            if (!JSONNode || !(JSONNode.innerHTML)) {\r\n                return this.value;\r\n            }\r\n            var retVal;\r\n            try {\r\n                retVal = JSON.parse(JSONNode.innerHTML);\r\n            } catch (e) {\r\n                console.error(\"Failed to parse JSON -\", JSONNode.innerHTML, e);\r\n                retVal = this.value;\r\n            }\r\n            return retVal;\r\n        }\r\n    }\r\n};\r\n\r\nAutocomplete.prototype.retrieveValueByKey = function () {\r\n    var that = this;\r\n    if (!this.value && this.els.hidden.value) {\r\n        sf.ajax.send({\r\n            url: this.options.url,\r\n            data: {id: this.els.hidden.value}\r\n        }).then(function (success) {\r\n            if (success.suggestions) {\r\n                that.els.input.value = success.suggestions[that.els.hidden.value];\r\n                that.filled = true;\r\n                that.setState(\"filled\");\r\n            } else {\r\n                that.els.hidden.value = \"\";\r\n            }\r\n        }, function (error) {\r\n            that.els.hidden.value = \"\";\r\n        });\r\n    }\r\n};\r\n\r\n/**\r\n * Adds events listeners.</br>\r\n */\r\nAutocomplete.prototype.addEventListeners = function () {\r\n    var that = this;\r\n\r\n    /**\r\n     * React on event\r\n     * @param {Event} e\r\n     */\r\n    function wrap(e) {\r\n        if (e.type === 'keydown') that.onKeyPress(e);\r\n        if (e.type === 'input' || e.type === 'change') that.onInputChange(e);\r\n        if (e.type === 'click') that.wrap(e);\r\n    }\r\n\r\n    /**\r\n     * TODO: What it does?\r\n     * @param {*} e\r\n     */\r\n    function listen(e) {\r\n        if (that.options.availableTags) that.onFocus(e);\r\n        that.els.input.addEventListener(\"keydown\", wrap);\r\n        that.els.input.addEventListener(\"change\", wrap);\r\n        that.els.input.addEventListener(\"input\", wrap);\r\n        that.els.input.addEventListener(\"blur\", function () {\r\n            that.els.input.removeEventListener(\"keydown\", wrap);\r\n            that.els.input.removeEventListener(\"change\", wrap);\r\n            that.els.input.removeEventListener(\"input\", wrap);\r\n            that.els.input.removeEventListener(\"blur\", listen);\r\n        }, false);\r\n    }\r\n\r\n    this.els.input.addEventListener(\"focus\", listen);\r\n\r\n    this.els.addon.addEventListener(\"click\", function () {\r\n        switch (that.state) {\r\n            case \"search\":\r\n                that.onValueChange();\r\n                break;\r\n            case \"filled\":\r\n                that.clear();\r\n                break;\r\n            case \"add\":\r\n                that.addTag(false, that.els.input.value);\r\n                break;\r\n            case \"select\":\r\n\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    });\r\n};\r\n\r\n/**\r\n * Key codes.\r\n * @enum {Number}\r\n */\r\nAutocomplete.prototype.keys = {\r\n    ESC: 27, TAB: 9, RETURN: 13, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, BACKSPACE: 8\r\n};\r\n\r\n\r\n/**\r\n * Gets key from data-key from element.\r\n * @param {Number} index Index of current suggestion.\r\n * @return {String} Key that written in \"data-key\" attribute\r\n */\r\nAutocomplete.prototype.getKeyByIndex = function (index) {\r\n    return this.els.hints.children[index].dataset.key;\r\n};\r\n\r\n/**\r\n * Hides hints. Changes state.\r\n */\r\nAutocomplete.prototype.hide = function () {\r\n    if (!this.els.hints) return;\r\n    this.els.group.removeChild(this.els.hints);\r\n    this.els.hints = null;\r\n    this.visible = false;\r\n    this.selectedIndex = -1;\r\n    if (this.value !== \"\" && this.value !== this.els.input.value) {\r\n        this.setState(this.options.allowNew ? \"add\" : \"search\");\r\n    }\r\n};\r\n\r\n/**\r\n * Clears input, suggestions, variables.\r\n */\r\nAutocomplete.prototype.clear = function () {\r\n    this.value = \"\";\r\n    this.els.input.value = \"\";\r\n    this.els.hidden.value = \"\";\r\n    this.suggestions = {};\r\n    this.filled = false;\r\n    this.hide();\r\n    this.setState(\"search\");\r\n    this.events.trigger(\"clear\", this);\r\n};\r\n\r\n/**\r\n * Trim string.\r\n * @param {String} str String that will be trimmed\r\n * @return {String} Trimmed string\r\n */\r\nAutocomplete.prototype.trim = function (str) {\r\n    return str.trim().replace(/\\s+/g, '_');\r\n};\r\n\r\n/**\r\n * Changes item-state- class on wrapper.\r\n * @param {String} state\r\n */\r\nAutocomplete.prototype.setState = function (state) {\r\n    if (this.state === state) return;\r\n    this.els.wrapper.classList.remove(\"item-state-\" + this.state);\r\n    this.els.wrapper.classList.add(\"item-state-\" + state);\r\n    this.state = state;\r\n    if (state === \"filled\") {\r\n        this.hide();\r\n        this.els.input.readOnly = true;\r\n        this.els.input.classList.add('read-only');\r\n    } else {\r\n        this.els.input.readOnly = false;\r\n        this.els.input.classList.remove('read-only');\r\n    }\r\n};\r\n\r\n/**\r\n * Change value for visible input and for invisible inputs.\r\n * @param {String | Boolean} key Key to add to hidden input and than send to server.\r\n * @param {String} value Value just to show to users.\r\n */\r\nAutocomplete.prototype.addTag = function (key, value) {\r\n    if (this.options.allowNew || key !== true) {\r\n        if (this.options.allowNew && this.options.keyOnNewAllowed && key) {\r\n            this.els.hidden.value = key;\r\n        } else {\r\n            this.els.hidden.value = this.options.allowNew ? value : key;\r\n        }\r\n\r\n        this.value = value;\r\n        this.els.input.value = this.value;\r\n        this.suggestions = {};\r\n        this.filled = true;\r\n        this.setState(\"filled\");\r\n    }\r\n};\r\n\r\n/**\r\n * Process key up.\r\n * @param {Event} e Event that fires on key up.\r\n */\r\nAutocomplete.prototype.onInputChange = function (e) {\r\n    var that = this;\r\n    if (this.disabled) return;\r\n\r\n//    switch (e.which) {\r\n//        case this.keys.UP:\r\n//        case this.keys.DOWN:\r\n//            return;\r\n//    }\r\n\r\n    clearTimeout(this.onChangeTimeout);\r\n\r\n    if (this.value !== this.els.input.value) {\r\n        this.findBestHint();\r\n        if (this.options.deferRequestBy > 0) {\r\n            if (this.options.allowNew)\r\n                this.setState(\"add\");\r\n            // Defer lookup in case when value changes very quickly:\r\n            this.onChangeTimeout = setTimeout(function () {\r\n                that.onValueChange();\r\n            }, this.options.deferRequestBy);\r\n        } else {\r\n            this.onValueChange();\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Finding best input.\r\n * Not implemented.\r\n * Maybe not need.\r\n */\r\nAutocomplete.prototype.findBestHint = function () {\r\n\r\n};\r\n\r\n/**\r\n * Process changing input's value.\r\n * @param {String} q Query\r\n */\r\nAutocomplete.prototype.onValueChange = function (q) {\r\n    this.value = this.els.input.value;\r\n    if (this.options.availableTags && !this.options.url) {\r\n        this.getSuggestions(this.value);\r\n    } else {\r\n        clearTimeout(this.onChangeTimeout);\r\n        this.selectedIndex = -1;\r\n        this.value.length < this.options.minChars ? this.hide() : this.getSuggestions(this.value);\r\n    }\r\n};\r\n\r\n/**\r\n * @param {String} q Query\r\n */\r\nAutocomplete.prototype.getAvailableSuggestions = function (q) {\r\n    if (q.trim() != \"\") {\r\n        var suggestions = {};\r\n        for (var key in this.options.availableTags) {\r\n            if (this.options.availableTags.hasOwnProperty(key) &&\r\n                this.options.availableTags[key].toLowerCase().indexOf(q.toLowerCase()) != -1) {\r\n                suggestions[key] = this.options.availableTags[key];\r\n            }\r\n        }\r\n        this.suggest(suggestions);\r\n    } else {\r\n        this.suggest(this.options.availableTags);\r\n    }\r\n};\r\n\r\n/**\r\n * @param {String} q Query\r\n */\r\nAutocomplete.prototype.getServerSuggestions = function (q) {\r\n    var that = this;\r\n    if (q.trim() != \"\") {\r\n        if (this.ajax != null) this.ajax[1].abort();\r\n        var data = {};\r\n        data[that.options.query] = q;\r\n        this.ajax = sf.ajax.send({\r\n            url: that.options.url,\r\n            data: data,\r\n            isReturnXHRToo: true\r\n        });\r\n        this.ajax[0].then(\r\n            function (answer) {\r\n                if (that.value && !that.filled) that.suggest(answer.suggestions);\r\n            },\r\n            function (error) {\r\n\r\n            });\r\n        this.setState(\"loading\");\r\n    } else {\r\n        this.hide();\r\n    }\r\n};\r\n\r\n/**\r\n * Gets suggestions from availableTags or from server.\r\n * @param {String} q Query\r\n */\r\nAutocomplete.prototype.getSuggestions = function (q) {\r\n    if (this.options.disable) {\r\n        this.setState(\"add\");\r\n        return;\r\n    }\r\n\r\n    if (this.options.availableTags && !this.options.url) {\r\n        this.getAvailableSuggestions(q);\r\n    } else {\r\n        this.getServerSuggestions(q);\r\n    }\r\n};\r\n\r\n/**\r\n * Prepare suggestions or alert.\r\n * @return {string}\r\n */\r\nAutocomplete.prototype.prepareSuggestions = function () {\r\n    // TODO create nodes (not innerHtml)\r\n\r\n    var that = this;\r\n    var value = this.value;// that.getQuery(that.value),\r\n    var html = '';\r\n\r\n    if (this.suggestions\r\n        && ((!Array.isArray(this.suggestions) && Object.getOwnPropertyNames(this.suggestions).length > 0)\r\n        || (Array.isArray(this.suggestions) && this.suggestions.length > 0))) {\r\n            if (!Array.isArray(this.suggestions)) {\r\n                for (var key in this.suggestions) {\r\n                    if (this.suggestions.hasOwnProperty(key)) {\r\n                        html += '<div class=\"' + that.options.suggestionsClassName + '\" data-key=\"' + key + '\">'\r\n                             + that.formatResult(this.suggestions[key], value) + '</div>';\r\n                    }\r\n                }\r\n            } else {\r\n                this.suggestions.forEach(function (suggestion, index) {\r\n                    html += '<div class=\"' + that.options.suggestionsClassName + '\" data-key=\"' + index + '\">'\r\n                         + that.formatResult(suggestion, value) + '</div>';\r\n                });\r\n            }\r\n    } else {\r\n        html = '<div class=\"alert alert-info\" style=\"text-align: center; margin: 0;\">There are no suggestions for this query.</div>';\r\n    }\r\n\r\n    return html;\r\n};\r\n\r\n/**\r\n * Shows dropdown with the hints.\r\n * @param {*} hints Suggestion list\r\n */\r\nAutocomplete.prototype.suggest = function (hints) {\r\n    this.hide();\r\n    this.suggestions = hints;\r\n    this.els.hints = document.createElement('div');\r\n    this.els.hints.className = 'autocomplete-hints';\r\n    this.els.hints.style.position = 'absolute';\r\n    this.els.hints.innerHTML = this.prepareSuggestions();\r\n    this.els.group.insertBefore(this.els.hints, this.els.input.nextSibling);\r\n    this.visible = true;\r\n\r\n    this.els.hints.addEventListener(\"click\", this.onSuggestionsClick.bind(this));\r\n\r\n    this.setState(this.options.allowNew ? \"add\" : \"select\");\r\n};\r\n\r\nAutocomplete.prototype.onSuggestionsClick = function (e) {\r\n    e.preventDefault();\r\n    var node = e.target;\r\n    while (!node.dataset.key && node !== this.els.group) {\r\n        node = node.parentNode;\r\n    }\r\n    if (!node.dataset.key) return;\r\n    this.select(node.dataset.key);\r\n\r\n    // var node = e.target;\r\n    // var keys = [];//array, so we can have nesting\r\n    // while (node !== this.els.group) {\r\n    //     if (node.dataset.key) keys.push(node.dataset.key);\r\n    //     node = node.parentNode;\r\n    // }\r\n    // if (!keys[0]) return;\r\n    // this.select.apply(this, keys);\r\n};\r\n\r\n/**\r\n * Escape.\r\n * @param {String} value String to escape.\r\n * @return {String} Escaped string.\r\n */\r\nAutocomplete.prototype.escapeRegExChars = function (value) {\r\n    return value.replace(/[\\-\\[\\]\\/\\{}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\r\n};\r\n\r\n/**\r\n * Highlight query in suggestion.\r\n * @param {String} suggestion String to be formatted\r\n * @param {String} value Query to highlight from suggestion string\r\n * @return {String} Highlighted result\r\n */\r\nAutocomplete.prototype.formatResult = function (suggestion, value) {\r\n    var pattern = '(' + this.escapeRegExChars(value) + ')';\r\n    return suggestion.replace(new RegExp(pattern, 'gi'), '<strong>$1<\\/strong>');\r\n};\r\n\r\n/**\r\n * @param {String} key\r\n */\r\nAutocomplete.prototype.select = function (key) {\r\n    this.addTag(key, this.suggestions[key]);\r\n    this.onSelect(key);\r\n};\r\n\r\nAutocomplete.prototype.onSelect = function () {\r\n    this.events.trigger(\"select\", this);\r\n    if (!this.options.onSelect) return;\r\n    var cb = sf.tools.resolveKeyPath(this.options.onSelect, window);\r\n    // eslint-disable-next-line\r\n    cb && cb.apply(this, arguments);\r\n};\r\n\r\n// Methods for delimiter\r\n// Autocomplete.prototype.getValue = function (value) {\r\n//    var that = this,\r\n//        currentValue,\r\n//        parts;\r\n//\r\n//    if (!this.options.delimiter) return value;\r\n//    currentValue = that.currentValue;\r\n//    parts = currentValue.split(this.options.delimiter);\r\n//    if (parts.length === 1) return value;\r\n//    return currentValue.substr(0, currentValue.length - parts[parts.length - 1].length) + value;\r\n// };\r\n\r\n// Autocomplete.prototype.getQuery = function (value) {\r\n//    if (!this.options.delimiter) return value.trim();\r\n//    var parts = value.split(this.options.delimiter);\r\n//    return parts[parts.length - 1].trim();\r\n// };\r\n\r\n/**\r\n * Process focus on input. Only if availableTags are present.\r\n */\r\nAutocomplete.prototype.onFocus = function () {\r\n    this.getSuggestions(\"\");\r\n};\r\n\r\n/**\r\n * Processes keyPress\r\n * @param {Object} e Event that fires on key down.\r\n */\r\nAutocomplete.prototype.onKeyPress = function (e) {\r\n    var that = this;\r\n\r\n    // If suggestions are hidden and user presses arrow down -> display suggestions\r\n    if (!this.disabled && !this.visible && e.which === this.keys.DOWN && this.value) {\r\n        this.onValueChange();\r\n        return;\r\n    }\r\n\r\n    switch (e.which) {\r\n//        case that.keys.BACKSPACE:\r\n//            that.onValueChange();\r\n//            return;\r\n//            break;\r\n        case that.keys.RETURN:\r\n            e.stopImmediatePropagation();\r\n            e.preventDefault();\r\n            that.onKeyEnter();\r\n            break;\r\n        case that.keys.UP:\r\n            if (!that.visible) return;\r\n            that.onKeyUp();\r\n            break;\r\n        case that.keys.DOWN:\r\n            if (!that.visible) return;\r\n            that.onKeyDown();\r\n            break;\r\n        default:\r\n            return;\r\n    }\r\n\r\n    // Cancel event if function did not return:\r\n    e.stopImmediatePropagation();\r\n    e.preventDefault();\r\n};\r\n\r\nAutocomplete.prototype.onKeyEnter = function () {\r\n    if (this.selectedIndex === -1) {\r\n        if (!this.options.allowNew && this.value == this.els.input.value) {\r\n            this.onValueChange();\r\n        } else {\r\n            this.addTag(false, this.els.input.value);\r\n        }\r\n        return;\r\n    }\r\n\r\n    this.select(this.getKeyByIndex(this.selectedIndex));\r\n};\r\n\r\nAutocomplete.prototype.onKeyUp = function () {\r\n    this.moveUp();\r\n};\r\n\r\nAutocomplete.prototype.onKeyDown = function () {\r\n    this.moveDown();\r\n};\r\n\r\n/**\r\n * Move up highlight of current suggestion.\r\n */\r\nAutocomplete.prototype.moveUp = function () {\r\n    var that = this;\r\n\r\n    if (this.selectedIndex === -1) return;\r\n\r\n    if (this.selectedIndex === 0) {\r\n        [].forEach.call(this.els.hints.children, function (child) {\r\n            child.classList.remove(that.options.selectedClassName);\r\n        });\r\n        that.selectedIndex = -1;\r\n        return;\r\n    }\r\n\r\n    this.adjustScroll(this.selectedIndex - 1);\r\n};\r\n\r\n/**\r\n * Move down highlight of current suggestion.\r\n */\r\nAutocomplete.prototype.moveDown = function () {\r\n    if (this.selectedIndex === (this.els.hints.children.length - 1)) return;\r\n    this.adjustScroll(this.selectedIndex + 1);\r\n};\r\n\r\n/**\r\n * Function to adjust scrolling if many suggestions.\r\n * Not implemented now. Just transit.\r\n * @param {Number} index Index of current suggestion.\r\n */\r\nAutocomplete.prototype.adjustScroll = function (index) {\r\n    this.highlight(index);\r\n\r\n    var item = this.els.hints.children[this.selectedIndex];\r\n    var hintsHeight = this.els.hints.clientHeight;\r\n    var hintTop = item.offsetTop;\r\n    var hintHeight = item.offsetHeight;\r\n\r\n    if (hintTop < this.els.hints.scrollTop) {\r\n        this.els.hints.scrollTop = hintTop;\r\n    } else if (hintTop > this.els.hints.scrollTop + hintsHeight - hintHeight) {\r\n        this.els.hints.scrollTop = hintTop - hintsHeight + hintHeight;\r\n    }\r\n};\r\n\r\n/**\r\n * Highlight active suggestion.\r\n * @param {Number} index Index of current suggestion.\r\n * @return {null}\r\n */\r\nAutocomplete.prototype.highlight = function (index) {\r\n    var that = this;\r\n    [].forEach.call(this.els.hints.children, function (child) {\r\n        child.classList.remove(that.options.selectedClassName);\r\n    });\r\n    this.els.hints.children[index].classList.add(that.options.selectedClassName);\r\n    this.selectedIndex = index;\r\n    return null;\r\n};\r\n\r\nAutocomplete.prototype.die = function () {\r\n    console.error(\"TODO DIE\"); // TODO DIE\r\n};\r\n\r\nexport default Autocomplete;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/sf-autocomplete.js","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".item-form{position:relative}.item-form,.item-form input[type=text]{font-size:1rem}.item-form input[type=text].js-sf-autocomplete::-ms-clear{display:none}.item-form input[type=text]:focus+.autocomplete-hints{border-color:#33a3fe;border-top-color:#b9b9b9}.item-state-search .btn-icon:before{content:\\\"\\\\26B2\\\";transform:rotate(-45deg);display:inline-block;position:relative}.item-state-add .btn-icon:before{content:\\\"+\\\"}.item-state-filled .btn-icon:before{content:\\\"\\\\D7\\\"}.item-state-select .btn-icon:hover{opacity:.2;cursor:default}.item-state-select .btn-icon:before{content:\\\"\\\\21D9\\\"}.item-state-loading .btn-icon:before{content:\\\"\\\\21BB\\\"}.btn-icon{position:absolute;transform:translateY(-50%);-webkit-transform:translateY(-50%);right:0;width:30px;font-size:24px;line-height:24px}.btn-icon:focus{background-color:transparent}.autocomplete-hints{z-index:10000;background:#fff;border:1px solid #b9b9b9;border-bottom-left-radius:2px;border-bottom-right-radius:2px;margin-top:-1px;max-width:100%;width:100%;max-height:200px;overflow-y:scroll;color:#b9b9b9}.autocomplete-hints>.autocomplete-hint{padding:5px 10px;cursor:pointer}.autocomplete-hints>.autocomplete-hint.autocomplete-selected,.autocomplete-hints>.autocomplete-hint:hover{background:#e5e5e5}.autocomplete-hints strong{color:#33a3fe;font-weight:400}\", \"\", {\"version\":3,\"sources\":[\"O:/Projects/SF/sf-module-autocomplete/src/O:/Projects/SF/sf-module-autocomplete/src/autocomplete.less\"],\"names\":[],\"mappings\":\"AAEA,WACE,iBACA,CAFF,uCAEE,cAAA,CAMI,0DACE,YAAA,CAIJ,sDAEI,qBACA,wBAAA,CAMR,oCACE,gBACA,yBACA,qBACA,iBAAA,CAIF,iCACE,WAAS,CAGX,oCACE,aAAS,CAIT,mCACE,WACA,cAAA,CAEF,oCACE,eAAS,CAIb,qCACE,eAAS,CAGX,UACE,kBAEA,2BACA,mCACA,QACA,WACA,eACA,gBAAA,CACA,gBACE,4BAAA,CAIJ,oBACE,cAEA,gBACA,yBACA,8BACA,+BACA,gBACA,eACA,WACA,iBACA,kBACA,aAAA,CAZF,uCAeI,iBACA,cAAA,CACA,AAGA,0GACE,kBAAA,CArBN,2BAyBI,cACA,eAAA,CAAA\",\"file\":\"autocomplete.less\",\"sourcesContent\":[\"@import (reference) \\\"variables\\\";\\n\\n.item-form {\\n  position: relative;\\n  font-size: 1rem;\\n\\n  input[type='text'] {\\n    font-size: 1rem;\\n\\n    &.js-sf-autocomplete {\\n      &::-ms-clear {\\n        display: none;\\n      }\\n    }\\n\\n    &:focus {\\n      + .autocomplete-hints {\\n        border-color: @spiral-blue;\\n        border-top-color: @spiral-grey;\\n      }\\n    }\\n  }\\n}\\n\\n.item-state-search .btn-icon:before {\\n  content: '⚲';\\n  transform: rotateZ(-45deg);\\n  display: inline-block;\\n  position: relative;\\n  // bottom: 2px;\\n}\\n\\n.item-state-add .btn-icon:before {\\n  content: '+';\\n}\\n\\n.item-state-filled .btn-icon:before {\\n  content: '×';\\n}\\n\\n.item-state-select .btn-icon {\\n  &:hover {\\n    opacity: 0.2;\\n    cursor: default;\\n  }\\n  &:before {\\n    content: '⇙';\\n  }\\n}\\n\\n.item-state-loading .btn-icon:before {\\n  content: '\\\\21BB';\\n}\\n\\n.btn-icon {\\n  position: absolute;\\n  // bottom: 3px;\\n  transform: translateY(-50%);\\n  -webkit-transform: translateY(-50%);\\n  right: 0;\\n  width: 30px;\\n  font-size: 24px;\\n  line-height: 24px;\\n  &:focus {\\n    background-color: transparent;\\n  }\\n}\\n\\n.autocomplete-hints {\\n  z-index: 10000;\\n  // top: 100%;\\n  background: @spiral-white;\\n  border: 1px solid @spiral-grey;\\n  border-bottom-left-radius: 2px;\\n  border-bottom-right-radius: 2px;\\n  margin-top: -1px;\\n  max-width: 100%;\\n  width: 100%;\\n  max-height: 200px;\\n  overflow-y: scroll;\\n  color: @spiral-grey;\\n\\n  > .autocomplete-hint {\\n    padding: 5px 10px;\\n    cursor: pointer;\\n    &:hover {\\n      background: @spiral-light-grey;\\n    }\\n    &.autocomplete-selected {\\n      background: @spiral-light-grey;\\n    }\\n  }\\n  strong {\\n    color: @spiral-blue;\\n    font-weight: normal;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?-url&sourceMap!./~/less-loader/dist?sourceMap!./src/autocomplete.less\n// module id = 3\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function() {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\tvar result = [];\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar item = this[i];\n\t\t\tif(item[2]) {\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\n\t\t\t} else {\n\t\t\t\tresult.push(item[1]);\n\t\t\t}\n\t\t}\n\t\treturn result.join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/lib/css-base.js\n// module id = 4\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [];\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\tstyleElement.type = \"text/css\";\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement(\"link\");\n\tlinkElement.rel = \"stylesheet\";\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute(\"media\", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/addStyles.js\n// module id = 5\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/index.js?-url&sourceMap!../node_modules/less-loader/dist/index.js?sourceMap!./autocomplete.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js?-url&sourceMap!../node_modules/less-loader/dist/index.js?sourceMap!./autocomplete.less\", function() {\n\t\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js?-url&sourceMap!../node_modules/less-loader/dist/index.js?sourceMap!./autocomplete.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/autocomplete.less\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}